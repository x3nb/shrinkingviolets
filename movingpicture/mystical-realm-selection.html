<!DOCTYPE html> 
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Chimera Universe Portal</title>
<style>
  body {
    margin: 0;
    padding: 0;
    background: radial-gradient(circle, #00111f, #000000 80%);
    color: #e8f7ff;
    font-family: "Cinzel", serif;
    overflow: hidden;
    text-align: center;
  }

  #greeting-screen {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(4px);
    z-index: 20;
  }
  #greeting-screen input {
    margin-top: 20px;
    padding: 10px 20px;
    border-radius: 10px;
    border: none;
    font-size: 1.2rem;
  }
  #begin-btn {
    margin-top: 20px;
    padding: 10px 30px;
    border-radius: 20px;
    border: none;
    background: #4fd7ff;
    color: black;
    font-size: 1.1rem;
    cursor: pointer;
    transition: 0.3s;
  }
  #begin-btn:hover {
    background: #a8ecff;
  }

  .fade-text {
    opacity: 0;
    transition: opacity 3s ease-in-out;
    font-size: 1.6rem;
    padding: 0 80px;
  }

  #lore-container {
    position: absolute;
    top: 20%; left: 50%;
    transform: translateX(-50%);
    width: 80%;
    z-index: 5;
  }

  .character-img {
    width: 240px;
    opacity: 0;
    transition: opacity 3s ease-in-out;
    margin-top: 40px;
  }

  .subtitle {
    opacity: 0;
    transition: opacity 3s ease-in-out;
    font-size: 1.2rem;
    margin-top: 10px;
    font-style: italic;
  }

  /* Rotating Portal */
  #portal {
    width: 400px;
    height: 400px;
    border-radius: 50%;
    margin: 40px auto 0;
    border: 6px solid rgba(120,220,255,0.4);
    background: radial-gradient(circle, rgba(60,150,255,0.4), rgba(0,40,70,0.9));
    box-shadow: 0 0 40px #5bbcffaa, inset 0 0 40px #0c6daa;
    animation: spin 14s linear infinite;
    opacity: 0;
    transition: opacity 3s ease-in-out;
  }
  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

</style>
</head>
<body>

<div id="greeting-screen">
  <h1>Welcome, Traveler</h1>
  <p>Please enter your Chimera Universe name:</p>
  <input id="username" />
  <button id="begin-btn">Begin</button>
</div>

<div id="lore-container"></div>
<div id="portal"></div>

<audio id="theme" src="Miki-croons1.mp3"></audio>
<audio id="hum" src="Miki-croons1.mp3" loop></audio>

<script>
const beginBtn = document.getElementById("begin-btn");
beginBtn.onclick = () => {
  const name = document.getElementById("username").value || "Traveler";
  document.getElementById("greeting-screen").style.opacity = 0;
  setTimeout(() => {
    document.getElementById("greeting-screen").style.display = "none";
    startLore(name);
  }, 2000);
};

const lore = [
  "In the beginning, the Celestial Loom spun the first threads of consciousness...",
  "From its shimmer came the Chimera Children — beings of starfire and memory...",
  "Each wandered through nebulae seeking identity, purpose, and silent truth...",
  "And now, one awakens again — drawn here by destiny and forgotten echoes..."
];

const characters = [
  { img: "star.png", haiku: "Starlight in her bones / Silent paws across the void / Destiny purrs soft." },
  { img: "Miki.png", haiku: "Ink-dream alchemist / Whispers drip into real worlds / Pages breathe her spells." },
  { img: "Chari.png", haiku: "Feathers guard the weak / Dawn rests between her footsteps / Mercy wears her face." },
  { img: "Milo.png", haiku: "Clockwork heart ticks hope / Lantern eyes map hidden paths / Courage hums in gears." },
  { img: "Hans.png", haiku: "Storm-forged wanderer / Ice melts where his laugh escapes / Thunder learns his name." },
  { img: "Yeshua

<!-- Realm Selection System -->
<div id="realmSelection" style="display:none; margin-top:40px; text-align:center;">
  <h2 class="realm-title">Choose Your Realm</h2>
  <p class="realm-sub">Where would you like to travel next, <span id='playerNameRealm'></span>?</p>
  <div class="realm-buttons" style="display:flex; gap:20px; justify-content:center; flex-wrap:wrap; margin-top:20px;">
    <button class="realm-btn" onclick="enterRealm('Star')">Realm of Star</button>
    <button class="realm-btn" onclick="enterRealm('Miki')">Realm of Miki</button>
    <button class="realm-btn" onclick="enterRealm('Chari')">Realm of Chari</button>
    <button class="realm-btn" onclick="enterRealm('Milo')">Realm of Milo</button>
    <button class="realm-btn" onclick="enterRealm('Hans')">Realm of Hans</button>
    <button class="realm-btn" onclick="enterRealm('Yeshua')">Realm of Yeshua</button>
  </div>
</div>
.png", haiku: "Light in human shape / Every shadow bends to peace / Footsteps heal the air." }
];

async function startLore(name) {
  const container = document.getElementById("lore-container");

  let i = 0;
  while (i < lore.length) {
    container.innerHTML = `<div class='fade-text'>${lore[i].replace("one", name)}</div>`;
    const block = container.firstChild;
    await fadeHold(block, 3000 + 7000);
    i++;
  }

  // After lore, start characters
  for (let c of characters) {
    container.innerHTML = `
      <img class='character-img' src='${c.img}' />
      <div class='subtitle'>${c.haiku}</div>
    `;
    const img = container.querySelector(".character-img");
    const sub = container.querySelector(".subtitle");
    await fadeHold(img, 3000 + 7000);
    sub.style.opacity = 1;
    await new Promise(r => setTimeout(r, 6000));
  }

  // Activate portal
  activatePortal();
}

function fadeHold(el, time) {
  return new Promise(resolve => {
    el.style.opacity = 1;
    setTimeout(() => {
      el.style.opacity = 0;
      setTimeout(resolve, 3000);
    }, time);
  });
}

function activatePortal() {
  const portal = document.getElementById("portal");
  portal.style.opacity = 1;

  // Start audio
  setTimeout(() => {
    document.getElementById("theme").play();
  }, 2000);
  document.getElementById("hum").play();
}

</script>

</body>
</html>
