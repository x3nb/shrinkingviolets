<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Shrinking Violets: The Board Quest</title>
<link href="https://fonts.googleapis.com/css2?family=UnifrakturCook:wght@700&family=Cormorant+Garamond&display=swap" rel="stylesheet" />
<style>
body {
  background: #0d1b2a;
  font-family: 'Cormorant Garamond', serif;
  margin: 0;
  padding: 20px;
  color: #e1bee7;
  text-align: center;
}
h1 {
  font-family: 'UnifrakturCook', cursive;
  font-size: 3rem;
  background: linear-gradient(135deg, #8e2de2, #4a00e0);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 20px;
}
#startContainer img {
  width: 150px;
  height: 150px;
  border-radius: 50%;
  border: 3px solid #fff;
  margin-bottom: 15px;
}
#startContainer input {
  font-size: 1.2rem;
  padding: 8px 12px;
  border-radius: 8px;
  border: none;
  outline: none;
}
#beginBtn {
  font-size: 1.2rem;
  padding: 8px 16px;
  margin-left: 10px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  background: linear-gradient(135deg, #8e2de2, #4a00e0);
  color: #fff;
}
#gameContainer { display: none; }
#boardContainer { display: flex; flex-direction: column; align-items: center; }
#board { display: flex; flex-wrap: wrap; justify-content: center; margin-bottom: 20px; }
.block {
  width: 40px; height: 40px; margin: 4px; border-radius: 8px;
  background: linear-gradient(135deg, #8e2de2, #4a00e0);
  box-shadow: inset 0 0 8px #000, 0 0 8px #000; cursor: pointer;
  transition: all 0.3s;
}
.block.lit { background: #ffd700; box-shadow: inset 0 0 8px #fff, 0 0 8px #fff; }
#guideBox { background: rgba(138, 43, 226, 0.2); border: 2px solid #8e2de2; border-radius: 10px; padding: 10px 15px; max-width: 80%; margin: 0 auto 20px; font-size: 1.2rem; min-height: 80px; }
#questionBox { display: none; flex-direction: column; align-items: center; margin-bottom: 20px; }
#questionText { font-size: 1.3rem; margin-bottom: 5px; position: relative; }
#hintBtn { font-size: 1rem; margin-left: 10px; cursor: pointer; border:none; background: #fff; color: #8e2de2; border-radius:50%; width:25px; height:25px; }
#hintText { font-size: 0.9rem; margin-bottom: 10px; color:#fff; display:none; }
#answers { display: flex; flex-direction: column; gap: 10px; width: 100%; max-width: 500px; }
.answerBtn {
  background: linear-gradient(135deg, #8e2de2, #4a00e0);
  border: none; padding: 10px; border-radius: 8px; color: #fff; font-size: 1rem; cursor: pointer; transition: all 0.2s;
}
.answerBtn:hover { transform: scale(1.02); }
#progress { text-align: center; font-size: 1.2rem; margin-bottom: 10px; }
#feedback { text-align: center; font-size: 1.2rem; margin-top: 10px; min-height: 1.2em; }
#celebration { display: none; text-align: center; font-size: 2rem; margin-top: 20px; color: gold; }
#confetti { display: none; position: fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; background: transparent; z-index:9999; }
#downloadCard { display:none; margin-top:20px; }
#downloadButton { font-size:1.2rem; padding:10px 20px; border-radius:8px; border:none; background: linear-gradient(135deg,#8e2de2,#4a00e0); color:#fff; cursor:pointer; }
</style>
</head>
<body>

<h1>Shrinking Violets: The Board Quest</h1>

<div id="startContainer">
  <img src="https://3society.neocities.org/FOURTHWALL.QUEST/IMAGES/stelllhoddyroses1.jpeg" alt="Your Image">
  <p>Enter your name to begin your adventure:</p>
  <input type="text" id="playerName" placeholder="Your name" />
  <button id="beginBtn">Begin Adventure</button>
</div>

<div id="gameContainer">
  <div id="boardContainer">
    <div id="board"></div>
  </div>

  <div id="guideBox"></div>

  <div id="questionBox">
    <div id="questionText"></div>
    <button id="hintBtn">?</button>
    <div id="hintText"></div>
    <div id="answers"></div>
  </div>

  <div id="progress"></div>
  <div id="feedback"></div>
  <div id="celebration">
    ðŸŽ‰ Congratulations! You've completed the quest! ðŸŽ‰<br/>
    <div id="downloadCard">
      <button id="downloadButton">Download Your Achievement Card</button>
    </div>
  </div>
</div>

<canvas id="confetti"></canvas>

<script>
// Game state
let currentLevel=1, currentBlock=0, questionIdx=0, playerName='';
const startContainer=document.getElementById('startContainer');
const beginBtn=document.getElementById('beginBtn');
const playerInput=document.getElementById('playerName');
const gameContainer=document.getElementById('gameContainer');
const guideBox=document.getElementById('guideBox');
const questionBox=document.getElementById('questionBox');
const questionText=document.getElementById('questionText');
const hintBtn=document.getElementById('hintBtn');
const hintText=document.getElementById('hintText');
const answersDiv=document.getElementById('answers');
const progressDiv=document.getElementById('progress');
const feedbackDiv=document.getElementById('feedback');
const celebrationDiv=document.getElementById('celebration');
const downloadBtn=document.getElementById('downloadButton');
const confettiCanvas=document.getElementById('confetti');

// Fresh questions with hints (10 levels, 3â€“5 questions each)
const questions=[
  // Level 1
  [
    {q:"Which philosopher asked, 'What is the good life?'", options:["Socrates","Aristotle","Plato"], answer:0, hint:"He drank hemlock eventually."},
    {q:"Which herb is known for relaxation?", options:["Lavender","Basil","Peppermint"], answer:0, hint:"Its scent is calming."},
    {q:"Which planet is closest to the Sun?", options:["Mercury","Venus","Mars"], answer:0, hint:"Small and speedy."}
  ],
  // Level 2
  [
    {q:"Sacred geometry often includes which shape?", options:["Circle","Square","Hexagon"], answer:0, hint:"Represents wholeness."},
    {q:"Mint is commonly used for?", options:["Cooking","Calming tea","All"], answer:2, hint:"Think everywhere!"},
    {q:"Which comet was visible in 2023?", options:["Halley","C/2023 A3 (Tsuchinshan)","Encke"], answer:1, hint:"Named after a Chinese observatory."}
  ],
  // Level 3
  [
    {q:"Jesus said to love your ___?", options:["Neighbor","Enemy","Pet"], answer:0, hint:"Think of the golden rule."},
    {q:"A Fibonacci spiral appears in?", options:["Flowers","Music","Buildings"], answer:0, hint:"Nature loves spirals."},
    {q:"Herb used for sleep?", options:["Chamomile","Basil","Oregano"], answer:0, hint:"Tea helps you drift off."}
  ],
  // Level 4
  [
    {q:"Say 'Love' in French?", options:["Amour","Liefde","Agape"], answer:0, hint:"Romantic language."},
    {q:"Which ancient language is still studied?", options:["Latin","Sumerian","Etruscan"], answer:0, hint:"Used by Romans."},
    {q:"Poetry by Oscar Wilde often shows?", options:["Wit","Tragedy","Science"], answer:0, hint:"Clever and playful."}
  ],
  // Level 5
  [
    {q:"Which herb boosts immunity?", options:["Echinacea","Lavender","Mint"], answer:0, hint:"Often found in supplements."},
    {q:"The planet known for rings?", options:["Saturn","Jupiter","Mars"], answer:0, hint:"Huge and majestic."},
    {q:"Jesus mentioned end times in?", options:["Matthew 24","Genesis","Exodus"], answer:0, hint:"The Olivet discourse."}
  ],
  // Level 6
  [
    {q:"Herbs for calming nerves?", options:["Lavender","Peppermint","All"], answer:2, hint:"Multiple options can help."},
    {q:"Golden ratio seen in?", options:["Art","Nature","All"], answer:2, hint:"It's everywhere!"},
    {q:"Say 'Peace' in Japanese?", options:["Heiwa","Shalom","Paix"], answer:0, hint:"Used in Japan."}
  ],
  // Level 7
  [
    {q:"Ancient Egyptian writing?", options:["Hieroglyphs","Cuneiform","Runes"], answer:0, hint:"Symbols on walls."},
    {q:"Sacred shape symbolizing infinity?", options:["Circle","Triangle","Square"], answer:0, hint:"No beginning, no end."},
    {q:"Herb for digestion?", options:["Peppermint","Thyme","Basil"], answer:0, hint:"Cooling effect."}
  ],
  // Level 8
  [
    {q:"Which planet is called Red Planet?", options:["Mars","Venus","Mercury"], answer:0, hint:"Dusty red surface."},
    {q:"Poetry about love & tragedy?", options:["Shakespeare","Wilde","Frost"], answer:0, hint:"Famous playwright."},
    {q:"Herb for skin healing?", options:["Aloe Vera","Lavender","Salvia"], answer:0, hint:"Gel from leaves."}
  ],
  // Level 9
  [
    {q:"Jesus taught about forgiveness in?", options:["Matthew","Genesis","Revelation"], answer:0, hint:"New Testament."},
    {q:"Fibonacci spiral seen in?", options:["Shells","Flowers","All"], answer:2, hint:"Nature loves math."},
    {q:"Herbs for relaxation?", options:["Chamomile","Lavender","All"], answer:2, hint:"All help you unwind."}
  ],
  // Level 10
  [
    {q:"Plants used for mental clarity?", options:["Salvia","Mint","Basil"], answer:0, hint:"Think of focus."},
    {q:"Ancient script used in China?", options:["Oracle bones","Runes","Cuneiform"], answer:0, hint:"Bones or shells."},
    {q:"Jesus emphasized love, hope, and ___?", options:["Faith","Wealth","Power"], answer:0, hint:"Trust in God."}
  ]
];

// Generate Board
const totalBlocks=questions.reduce((sum, lvl)=>sum+lvl.length,0);
const boardDiv=document.getElementById('board');
const blocks=[];
for(let i=0;i<totalBlocks;i++){
  const block=document.createElement('div');
  block.className='block';
  block.dataset.index=i+1;
  blocks.push(block);
  boardDiv.appendChild(block);
}

// Start button
beginBtn.onclick=()=> {
  const name=playerInput.value.trim();
  if(name.length>0){
    playerName=name;
    startContainer.style.display='none';
    gameContainer.style.display='block';
    startGame();
  } else { alert('Please enter your name.'); }
};

// Functions
function updateBoard(){
  blocks.forEach((b,i)=> b.className=(i<currentBlock)?'block lit':'block');
}
function startGame(){
  currentLevel=1; currentBlock=0; questionIdx=0;
  updateBoard(); startQuestion();
}
function startQuestion(){
  const q=questions[currentLevel-1][questionIdx];
  questionText.innerHTML=q.q;
  hintText.style.display='none';
  hintText.innerHTML=q.hint;
  answersDiv.innerHTML='';
  q.options.forEach((opt,i)=>{
    const btn=document.createElement('button');
    btn.className='answerBtn'; btn.innerHTML=opt;
    btn.onclick=()=>checkAnswer(i);
    answersDiv.appendChild(btn);
  });
  questionBox.style.display='flex';
  progressDiv.innerHTML=`Level ${currentLevel} | Question ${questionIdx+1}`;
  feedbackDiv.innerHTML='';
}
hintBtn.onclick=()=>{ hintText.style.display=hintText.style.display==='none'?'block':'none'; };
function checkAnswer(sel){
  const q=questions[currentLevel-1][questionIdx];
  if(sel===q.answer){
    feedbackDiv.innerHTML='Correct! Moving forward.';
    blocks[currentBlock].className='block lit';
    currentBlock++; questionIdx++;
    if(questionIdx>=questions[currentLevel-1].length){
      if(currentLevel>=questions.length){ finishGame(); return; }
      currentLevel++; questionIdx=0;
      guideBox.innerHTML=`Great job, ${playerName}! Now at level ${currentLevel}!`;
      setTimeout(startQuestion,1000);
    } else { setTimeout(startQuestion,500); }
  } else { feedbackDiv.innerHTML='Try again! Hint: Click ? for help.'; }
}

// Finish
function finishGame(){
  questionBox.style.display='none'; feedbackDiv.innerHTML='';
  guideBox.innerHTML=`ðŸŽ‰ Congratulations, ${playerName}! You are a true adventurer! ðŸŽ‰`;
  celebrationDiv.style.display='block'; downloadBtn.style.display='inline-block';
  launchConfetti();
}
downloadBtn.onclick=()=>saveCard();
function saveCard(){
  const canvas=document.createElement('canvas'); canvas.width=400; canvas.height=300;
  const ctx=canvas.getContext('2d');
  ctx.fillStyle='#8e2de2'; ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.font='bold 20px serif'; ctx.fillStyle='#fff'; ctx.textAlign='center';
  ctx.fillText(`Congratulations, ${playerName}!`,canvas.width/2,50);
  ctx.font='16px serif'; ctx.fillText('You completed the Shrinking Violets Quest!',canvas.width/2,80);
  ctx.fillText('Keep exploring wisdom and herbs!',canvas.width/2,110);
  const link=document.createElement('a'); link.href=canvas.toDataURL(); link.download='Achievement_Card.png'; link.click();
}

// Confetti
function launchConfetti(){
  const ctx=confettiCanvas.getContext('2d'); confettiCanvas.style.display='block';
  confettiCanvas.width=window.innerWidth; confettiCanvas.height=window.innerHeight;
  const particles=[];
  for(let i=0;i<200;i++) particles.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,r:Math.random()*4+1,color:`hsl(${Math.random()*360},70%,60%)`});
  function draw(){
    ctx.clearRect(0,0,window.innerWidth,window.innerHeight);
    particles.forEach(p=>{
      ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fillStyle=p.color; ctx.fill();
      p.y+=Math.random()*2+1; if(p.y>window.innerHeight){p.y=0; p.x=Math.random()*window.innerWidth;}
    });
    requestAnimationFrame(draw);
  }
  draw();
}
</script>
</body>
</html>
