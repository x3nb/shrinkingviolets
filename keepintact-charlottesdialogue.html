<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eternal Estates: Spider's Brew Loading – Web of Quest</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&family=Roboto+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&family=Roboto+Mono:wght@300;400;500&display=swap');
        body { 
            background: #000000 !important; /* Black theater void – arachnid immersion */
            color: #FFFFFF !important; /* White text for stark contrast */
            font-family: 'Roboto Mono', monospace; /* Script-like body */
            margin: 0; 
            padding: 0; 
            text-align: center; 
            position: relative;
            overflow-x: hidden;
            min-height: 100vh;
            /* Subtle film grain (ethereal texture – faint, static) */
            background-image: radial-gradient(circle at 25% 25%, rgba(255,255,255,0.01) 0%, transparent 50%), 
                              radial-gradient(circle at 75% 75%, rgba(255,255,255,0.01) 0%, transparent 50%);
            background-size: 100px 100px;
        }
        /* Header Image Placeholder (Fixed Top Banner – 200px Height, Full-Width Responsive) */
        .header-image {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 200px;
            background: #000000; /* Black base for void blend */
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIyMDAiIHZpZXdCb3g9IjAgMCAxMjAwIDgwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMDAwMDAwIi8+PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48cGF0aCBkPSJNNTAgMTUwIEw1MDAgNTAgTDc1MCAxNTAgWiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNjQ5NUVEIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1kYXNoYXJyYXk9IjUsNSIvPjxyZWN0IHg9IjQwMCIgeT0iMTAwIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjUwIiBmaWxsPSJub25lIiBzdHJva2U9IiM2NDk1RUQiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjYwMCIgeT0iODAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNjQ5NUVEIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSI0MDAiIGN5PSIxMDAiIHI9IjQwIiBmaWxsPSJub25lIiBzdHJva2U9IiM2NDk1RUQiIHN0cm9rZS13aWR0aD0iMSIvPjx0ZXh0IHg9IjkwJSIgeT0iOTAlIiBmb250LWZhbWlseT0iJ1BsYXlmYWlyIERpc3BsYXknLCBzZXJpZiIgZm9udC1zaXplPSIxMnB4IiBmaWxsPSJyZ2JhKDE5OSwgMTk5LCAxOTksIDAuMykiIHRleHQtYW5jaG9yPSJlbmQiPlBsYWNlaG9sZGVyOiBGb2dneSBFc3RhdGU8L3RleHQ+PC9zdmc+PC9kZWZzPjwvc3ZnPg=='); /* Base64 SVG: Bolder gothic estate silhouette (spires, arched windows, web accents) + faint placeholder text */
            background-size: cover;
            background-position: center;
            z-index: 10; /* Above body, below intro */
            opacity: 0.8; /* Subtle veil */
            animation: subtleSlide 20s ease-in-out infinite; /* Ethereal drift for film feel */
            filter: blur(1px); /* Misty fog effect */
        }
        @keyframes subtleSlide {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(-5px); } /* Gentle "film reel" sway */
        }
        @media (max-width: 768px) {
            .header-image { height: 150px; } /* Compact mobile banner */
        }
        .loading-container { 
            max-width: 100vw; 
            min-height: 100vh; 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            opacity: 1; 
            transition: opacity 1s ease-out; 
            padding-top: 200px; /* Offset for fixed header */
        }
        .loading-container.hidden { opacity: 0; } /* Fade out after narration */
        .spider-intro { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100vw; 
            height: 100vh; 
            background: #000000; /* Black screen for intro */
            z-index: 20; /* Above all */
            display: flex; 
            justify-content: center; 
            align-items: center; 
            opacity: 1; 
            transition: opacity 1s ease-out; /* Fade out to narration */
        }
        .spider-intro.hidden { opacity: 0; pointer-events: none; } /* JS hides after 6s */
        .web-target { 
            width: 300px; 
            height: 300px; 
            border: 5px solid #FFFFFF; /* White web circle – sniper rifle target vibe */
            border-radius: 50%; 
            position: relative; 
            background: #000000; /* Black interior */
            /* Web pattern (radial lines like spider silk – cornflower tint) */
            background-image: 
                conic-gradient(from 0deg at 50% 50%, transparent 0deg, #6495ED 1deg, transparent 2deg),
                conic-gradient(from 90deg at 50% 50%, transparent 0deg, #6495ED 1deg, transparent 2deg),
                conic-gradient(from 180deg at 50% 50%, transparent 0deg, #6495ED 1deg, transparent 2deg),
                conic-gradient(from 270deg at 50% 50%, transparent 0deg, #6495ED 1deg, transparent 2deg);
            background-size: 100% 100%, 100% 100%, 100% 100%, 100% 100%; /* Layered for crosshair web */
            animation: targetShake 0.3s ease-out 2s forwards; /* Dramatic shake on web bloom */
        }
        @keyframes targetShake { 
            0%, 100% { transform: translateX(0) translateY(0); } 
            25% { transform: translateX(-5px) translateY(-2px); } 
            50% { transform: translateX(5px) translateY(2px); } /* Mild thump vibration – whimsical "land" */
            75% { transform: translateX(-3px) translateY(-1px); } 
            100% { transform: translateX(0) translateY(0); } /* Settle */
        }
        .spider-drop { 
            position: absolute; 
            top: -50px; /* Start above circle */
            left: 50%; 
            transform: translateX(-50%); 
            font-size: 4em; /* Large spider emoji */
            opacity: 0; 
            animation: dropSilk 2s ease-in forwards; /* 2s gentle drop on silk */
        }
        @keyframes dropSilk { 
            0% { top: -50px; opacity: 0; transform: translateX(-50%) rotate(0deg); } /* Start hidden above */
            50% { top: 50%; opacity: 1; transform: translateX(-50%) rotate(-10deg); } /* Mid-drop rotate for whimsy */
            100% { top: 70%; opacity: 1; transform: translateX(-50%) rotate(0deg); } /* Land center-bottom with thump */
        }
        .tea-cup { 
            position: absolute; 
            top: 50%; 
            left: 60%; /* "Held" in spider's foreleg */
            font-size: 2em; /* Tea cup emoji */
            opacity: 0; 
            animation: teaSteam 2s ease-in forwards 0.5s; /* Steam in mid-drop */
            transform: translate(-50%, -50%); 
        }
        @keyframes teaSteam { 
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); } 
            100% { opacity: 1; transform: translate(-50%, -50%) scale(1); } /* Gentle "pour" */
        }
        .web-bloom { 
            position: absolute; 
            top: 50%; 
            left: 50%; 
            width: 150px; 
            height: 150px; 
            background: radial-gradient(circle, rgba(100, 149, 237, 0.6) 0%, transparent 70%); /* Cornflower web "splat" – blooming threads */
            border-radius: 50%; 
            opacity: 0; 
            animation: webBloom 1s ease-out 2s forwards; /* Bloom after drop */
            transform: scale(0); 
            /* Web lines (additional threads) */
            background-image: 
                linear-gradient(45deg, transparent 49%, #6495ED 50%, transparent 51%),
                linear-gradient(-45deg, transparent 49%, #6495ED 50%, transparent 51%);
            background-size: 20px 20px; /* Dotted web pattern */
        }
        @keyframes webBloom { 
            0% { opacity: 0; transform: scale(0); } 
            50% { opacity: 0.8; transform: scale(1.2); } /* Dramatic expand */
            100% { opacity: 0; transform: scale(1.5); } /* Fade out */
        }
        .spider-logo { 
            position: absolute; 
            top: 50%; 
            left: 50%; 
            transform: translate(-50%, -50%); 
            font-family: 'Cinzel', serif; /* Romantic goth for elegance */
            font-size: 3em; 
            font-weight: 700; 
            color: #FFFFFF; 
            background: linear-gradient(to right, #FFFFFF 0%, #6495ED 50%, #FFFFFF 100%); /* White to cornflower tint */
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            background-clip: text; 
            letter-spacing: 5px; 
            opacity: 0; 
            animation: logoSwirl 2s ease-in-out 2.5s forwards; /* Swirl in after bloom */
        }
        @keyframes logoSwirl { 
            0% { opacity: 0; transform: translate(-50%, -50%) rotate(-180deg) scale(0.5); text-shadow: 0 0 5px rgba(100, 149, 237, 0.3); } /* Swirl from spin/small */
            50% { opacity: 1; transform: translate(-50%, -50%) rotate(0deg) scale(1.2); text-shadow: 0 0 20px rgba(100, 149, 237, 1); } /* Dramatic scale/glow burst */
            100% { opacity: 1; transform: translate(-50%, -50%) rotate(0deg) scale(1); text-shadow: 0 0 10px rgba(100, 149, 237, 0.5); } /* Settle to elegant */
        }
        .intertitle { 
            position: absolute; 
            top: 60%; 
            left: 50%; 
            transform: translate(-50%, -50%); 
            font-family: 'Cinzel', serif; 
            font-size: 2em; 
            font-weight: 600; 
            color: #FFFFFF; 
            background: linear-gradient(to right, #FFFFFF 0%, #6495ED 100%); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            background-clip: text; 
            letter-spacing: 3px; 
            opacity: 0; 
            animation: intertitleFade 1s ease-in 4.5s forwards; /* Dramatic producer seal post-logo */
        }
        @keyframes intertitleFade { 
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); } 
            100% { opacity: 1; transform: translate(-50%, -50%) scale(1); } /* Gentle expand/fade in */
        }
        .reel-bar { 
            width: 60%; 
            height: 20px; 
            background: #111111; /* Dark reel bg */
            border-radius: 10px; 
            margin: 20px auto; 
            overflow: hidden; 
            border: 1px solid #333333; /* Subtle frame */
            position: relative; 
            z-index: 10; /* Below narration */
            opacity: 0; 
            transition: opacity 0.5s ease-in 6s; /* Reveal after intro */
        }
        .reel-bar.visible { opacity: 1; }
        .reel-fill { 
            height: 100%; 
            background: linear-gradient(to right, #FFFFFF 0%, #6495ED 100%); /* White to cornflower progression – film strip tint */
            width: 0%; 
            transition: width 3s ease-in-out; /* 3s reel roll */
            border-radius: 10px; 
            box-shadow: 0 0 5px rgba(100, 149, 237, 0.3); /* Cornflower glow */
        }
        .reel-text { 
            font-family: 'Roboto Mono', monospace; 
            font-size: 1em; 
            color: #FFFFFF; 
            margin: 10px 0; 
            opacity: 0; 
            transition: opacity 0.5s ease-in; /* Reveal mid-reel */
            z-index: 10; 
        }
        .reel-text.visible { opacity: 1; }
        .reel-text.disintegrate { 
            animation: disintegrate 1s ease-out forwards; /* 1s silk shatter on 100% */
              }
        @keyframes disintegrate { 
            0% { opacity: 1; filter: blur(0px); transform: scale(1); text-shadow: 0 0 10px rgba(100, 149, 237, 0.5); letter-spacing: 0; } /* Solid start */
            50% { opacity: 0.7; filter: blur(2px); transform: scale(1.1); text-shadow: 0 0 20px rgba(100, 149, 237, 0.8); letter-spacing: 2px; } /* Glow burst + blur/spread */
            100% { opacity: 0; filter: blur(5px); transform: scale(0.8); text-shadow: 0 0 0 rgba(100, 149, 237, 0); letter-spacing: 5px; } /* Crumble fade */
        }
        .narration-container { 
            max-width: 800px; 
            margin: 40px auto; 
            padding: 30px; 
            background: #111111; /* Dark narration bg – the "rectangle" for dialogue */
            border: 1px solid #333333; /* Subtle frame */
            border-radius: 10px; 
            text-align: left; 
            opacity: 0; 
            transition: opacity 1s ease-in, transform 1s ease-in; /* Reveal after reel shatter */
            z-index: 5; 
            transform: scale(0.95); /* Subtle "unfold" */
            display: none; /* Hidden until JS forces reveal */
        }
        .narration-container.visible { 
            opacity: 1; 
            transform: scale(1); 
            display: block; /* Force show */
        }
        .charlotte-narration { 
            font-family: 'Playfair Display', serif; 
            font-size: 1.1em; 
            line-height: 1.6; 
            color: #CCCCCC; /* Light grey for heartfelt read */
            margin: 0; 
            opacity: 0; 
            overflow: hidden; 
            border-right: 2px solid #6495ED; /* Cornflower cursor */
            white-space: nowrap; 
            animation: none; /* JS triggers typewriter */
            letter-spacing: 1px; 
            font-weight: 400; /* Lighter for fluid type */
            text-shadow: 0 0 2px rgba(100, 149, 237, 0.2); /* Subtle cornflower glow on text for "moving" pop */
        }
        .charlotte-narration.typewriter { 
            animation: charlotteType 8s steps(120, end) forwards, blink-caret 0.75s step-end infinite; /* 8s faster pace for snappier motion */
        }
        @keyframes charlotteType { 
            from { width: 0; } 
            to { width: 100%; } 
        }
        @keyframes blink-caret { 
            from, to { border-color: transparent; } 
            50% { border-color: #6495ED; } 
        }
        .spider-anchor { 
            position: fixed; 
            top: 20px; 
            right: 20px; 
            font-size: 3em; 
            opacity: 0; 
            transition: opacity 1s ease-in 7s, transform 1s ease-in 7s; /* Anchor after intro */
            z-index: 15; 
            transform: translateX(100%); /* Slide from right */
        }
        .spider-anchor.visible { 
            opacity: 1; 
            transform: translateX(0); /* Perch on wall */
        }
        .dynamic-window { 
            max-width: 600px; 
            margin: 40px auto; 
            padding: 30px; 
            background: linear-gradient(to bottom, #111111, #222222); /* Dark window bg */
            border: 2px solid #6495ED; /* Cornflower frame */
            border-radius: 15px; 
            text-align: center; 
            opacity: 0; 
            transition: opacity 1s ease-in, transform 1s ease-in; /* Reveal after narration */
            z-index: 5; 
            box-shadow: 0 0 20px rgba(100, 149, 237, 0.3); /* Cornflower glow like silk thread */
            transform: scale(0.8); /* Subtle "emerge" */
        }
        .dynamic-window.visible { 
            opacity: 1; 
            transform: scale(1); 
        }
        .thread-button { 
            background: linear-gradient(to right, #6495ED 0%, #FFFFFF 100%); /* Cornflower to white silk thread */
            color: #000000; /* Dark text for contrast */
            border: none; 
            padding: 15px 30px; 
            font-family: 'Cinzel', serif; 
            font-size: 1.5em; 
            font-weight: 600; 
            border-radius: 25px; 
            cursor: pointer; 
            transition: all 0.3s ease; 
            box-shadow: 0 0 10px rgba(100, 149, 237, 0.5); /* Cornflower glow */
            letter-spacing: 2px; 
            position: relative; 
            overflow: hidden; 
        }
        .thread-button::before { 
            content: ''; 
            position: absolute; 
            top: 50%; 
            left: -100%; 
            width: 100%; 
            height: 2px; 
            background: linear-gradient(to right, transparent, #FFFFFF, transparent); /* Silk thread draw */
            animation: drawThread 1s ease-in forwards 0.5s; /* Draw line on reveal */
            transform: translateY(-50%); 
        }
        @keyframes drawThread { 
            0% { left: -100%; } 
            100% { left: 100%; } /* Whimsical thread "follow" */
        }
        .thread-button:hover { 
            background: linear-gradient(to right, #FFFFFF 0%, #6495ED 100%); /* Reverse for hover */
            box-shadow: 0 0 20px rgba(100, 149, 237, 0.8); 
            transform: scale(1.05); /* Subtle lift */
        }
        @media (max-width: 768px) { 
            .web-target { width: 200px; height: 200px; } /* Scale web for mobile */
            .spider-drop { font-size: 3em; } /* Smaller spider */
            .tea-cup { font-size: 1.5em; } /* Compact tea */
            .spider-logo { font-size: 2em; } /* Compact logo */
            .intertitle { font-size: 1.5em; top: 70%; } /* Adjust position */
            .narration-container { margin: 20px; padding: 20px; max-width: 90%; } /* Mobile fit */
            .dynamic-window { margin: 20px; padding: 20px; max-width: 90%; } 
            .thread-button { font-size: 1.2em; padding: 12px 24px; } 
            .reel-bar { width: 90%; } 
            .loading-container { padding-top: 150px; } /* Mobile header offset */
        }
        /* Typewriter for Reel Text (Cinematic Pace – CSS Fallback) */
        .typewriter { overflow: hidden; border-right: 2px solid #FFFFFF; white-space: nowrap; animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite; }
        @keyframes typing { from { width: 0; } to { width: 100%; } }
    </style>
</head>
<body>
    <div class="header-image"></div> <!-- Fixed Top Placeholder Banner -->
    <div class="loading-container" id="loadingContainer">
        <!-- Spider Intro (Dramatic Web Target Sequence – 6s Total) -->
        <div class="spider-intro" id="spiderIntro">
            <div class="web-target">
                <div class="spider-drop">🕷️</div>
                <div class="tea-cup">☕</div>
                <div class="web-bloom"></div>
                <div class="spider-logo">Spider's Brew 007</div>
                <div class="intertitle">Eternal Estates Presents...</div>
            </div>
        </div>

        <!-- Spider Anchor (Perches on Wall Post-Intro) -->
        <div class="spider-anchor" id="spiderAnchor">🕷️</div>

        <!-- Reel Bar (Post-Intro, 3s to 100%) -->
        <div class="reel-bar" id="reelBar">
            <div class="reel-fill" id="reelFill"></div>
        </div>

        <div class="reel-text" id="reelText">Web briefing... Loading chapters. (Reel rolling – 3s to menu)</div>

        <!-- Narration Container (Reveals After Reel Shatter – The "Rectangle" for Dialogue) -->
        <div class="narration-container" id="narrationContainer">
            <p class="charlotte-narration" id="charlotteNarration">
                <strong style="color: #6495ED; font-size: 1.2em;">From Charlotte's Perch: A Greeting, Dears!</strong><br><br>Oh, dears, gather 'round the web, for I am Charlotte, the spider on the wall, listening with a cuppa in hand and a whimsical whisker of wisdom. It all began in the gothy shadows of the eternal estates, where Yeshua's light first twinkled like a dewdrop on silk, the way, truth, and life Himself, drawing the lost kin into His orbit with gentle grace. There was Milo, the balanced wayfarer in mint mists, wandering Tao paths of quiet wisdom until he crossed threads with Chari, the cozy sanctuary keeper of lavender kindness, brewing gentle drifts for reflective souls in her heartfelt haven. Then came Hans, the shadow howler turned hymnist, his purple echoes redeemed from solitary cries into Yeshua's light songs of collective joy. Miki riffed in next, the symphonist of cornflower sparks and bold rhythms, weaving energetic rifts into the symphony. Together, under Yeshua's core, they met in fateful sips—no October boos, just cats, bats, and spiders year-round—and spun the Chimera Comfort Cafe, a members-only sanctuary where trust unveils delights in every brew, kindness flowing like fine Parisian espresso for all who slink or follow.
            </p>
        </div>

        <!-- Dynamic Window (Reveals After Narration – "The Web Awaits...") -->
        <div class="dynamic-window" id="dynamicWindow">
            <h2 style="font-family: 'Cinzel', serif; color: #6495ED; margin-bottom: 20px;">The Web Awaits...</h2>
            <p style="color: #CCCCCC; margin-bottom: 20px;">Follow the thread to the Chimera Comfort Cafe—your quest begins!</p>
            <button class="thread-button" onclick="followThread()">Follow the Thread to the Cafe</button>
        </div>
    </div>

    <script>
        console.log('=== Spider Web Loading Starting ==='); // Debug

        // Ensure DOM Ready (Bulletproof Spider Intro + Reel + Narration)
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM ready – Web armed.'); // Debug

            const spiderIntro = document.getElementById('spiderIntro');
            const loadingContainer = document.getElementById('loadingContainer');
            const spiderAnchor = document.getElementById('spiderAnchor');
            const reelBar = document.getElementById('reelBar');
            const reelFill = document.getElementById('reelFill');
            const reelText = document.getElementById('reelText');
            const narrationContainer = document.getElementById('narrationContainer');
            const charlotteNarration = document.getElementById('charlotteNarration');
            const dynamicWindow = document.getElementById('dynamicWindow');

            let reelProgress = 0;
            const reelTexts = [
                'Web briefing... 0%',
                'Shadows gathering... 33%',
                'Characters awakening... 66%',
                'Premiere imminent... 100%'
            ];

            // Spider Intro Sequence (6s Dramatic Total)
            setTimeout(() => {
                console.log('Spider web armed – Drop!'); // Debug
            }, 100);

            // Hide Intro & Reveal Reel (After 6s)
            setTimeout(() => {
                spiderIntro.classList.add('hidden');
                spiderAnchor.classList.add('visible'); // Perch spider on wall
                console.log('Spider intro complete – Reel briefing.'); // Debug
                setTimeout(() => {
                    reelBar.classList.add('visible');
                    reelText.classList.add('visible');
                    console.log('Reel threaded.'); // Debug
                }, 500);
            }, 6000);

            // Reel Progression (3s – With Disintegrate at 100%)
            setTimeout(() => {
                const interval = setInterval(() => {
                    console.log('Reel step:', reelProgress + 1); // Debug
                    reelProgress += 33;
                    reelFill.style.width = reelProgress + '%';
                    reelText.textContent = reelTexts[Math.floor(reelProgress / 33)] || 'Premiere... 100%';
                    if (reelProgress >= 100) {
                        clearInterval(interval);
                        console.log('Reel complete – Disintegrate 100%!'); // Debug
                        reelText.classList.add('disintegrate'); // Trigger shatter
                        setTimeout(() => {
                            reelText.style.display = 'none';
                            reelBar.style.display = 'none'; // Hide reel post-shatter
                            console.log('Reel shattered – Narration spins immediately!'); // Debug
                            // Bulletproof reveal: Force styles + class
                            narrationContainer.style.display = 'block';
                            narrationContainer.style.opacity = '1';
                            narrationContainer.style.transform = 'scale(1)';
                            narrationContainer.classList.add('visible');
                            charlotteNarration.style.opacity = '1';
                            charlotteNarration.classList.add('typewriter'); // Start 8s faster typewriter
                            console.log('Greeting typing – Charlotte speaks!'); // Debug start
                            // Optional: JS char-by-char for extra "movement" feel (fallback to CSS)
                            setTimeout(() => {
                                console.log('Narration batch 1: Greeting done.'); // Debug progress
                            }, 2000); // After greeting header
                            setTimeout(() => {
                                console.log('Narration complete – Full tale spun!'); // Debug
                                dynamicWindow.style.opacity = '1';
                                dynamicWindow.style.transform = 'scale(1)';
                                dynamicWindow.classList.add('visible');
                            }, 8000); // 8s total pace
                        }, 1000); // 1s for disintegrate
                    }
                }, 1000); // 1s steps for 3s
            }, 6500); // Start after intro fade

            // Fallback: Force Sequence After 10s (Bulletproof, with Immediate Narration)
            setTimeout(() => {
                if (spiderIntro && !spiderIntro.classList.contains('hidden')) {
                    spiderIntro.classList.add('hidden');
                    spiderAnchor.classList.add('visible');
                    reelBar.classList.add('visible');
                    reelText.classList.add('visible');
                    reelFill.style.width = '100%';
                    reelText.textContent = 'Premiere... 100%';
                    reelText.classList.add('disintegrate');
                }
                setTimeout(() => {
                    reelText.style.display = 'none';
                    reelBar.style.display = 'none';
                    // Force narration reveal
                    narrationContainer.style.display = 'block';
                    narrationContainer.style.opacity = '1';
                    narrationContainer.style.transform = 'scale(1)';
                    narrationContainer.classList.add('visible');
                    charlotteNarration.style.opacity = '1';
                    charlotteNarration.classList.add('typewriter');
                    console.log('Fallback: Greeting typing – Charlotte speaks!'); // Debug start
                    setTimeout(() => {
                        console.log('Fallback: Narration batch 1: Greeting done.'); // Debug progress
                    }, 2000); // After greeting header
                    setTimeout(() => {
                        console.log('Fallback: Narration complete – Full tale spun!'); // Debug
                        dynamicWindow.style.opacity = '1';
                        dynamicWindow.style.transform = 'scale(1)';
                        dynamicWindow.classList.add('visible');
                    }, 8000); // 8s total pace
                }, 1000); // 1s for disintegrate
                console.log('Fallback Spider – Sequence fully spun with dialogue!'); // Debug
            }, 10000); // 10s total fallback

            // Button Click: Follow Thread to Main Page
            function followThread() {
                console.log('Thread followed – To the Cafe!'); // Debug
                localStorage.setItem('spiderTicket', 'cafe-access'); // Pass to main.html for continuity (e.g., VIP teases)
                window.location.href = 'main.html'; // Redirect to dynamic nav page
            }

            // Expose followThread globally (for onclick)
            window.followThread = followThread;
        });

        console.log('Spider Web Loading Online – Spun with whimsy... Lights, camera, quest!'); // Final Debug
    </script>
</body>
</html>
