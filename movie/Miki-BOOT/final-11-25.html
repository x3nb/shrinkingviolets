<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Soft Mystical Portal Activation</title>

<style>
    body {
        margin: 0;
        height: 100vh;
        background: #05060a;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        font-family: "Courier New", monospace;
        color: #cfeaff;
    }

    /* --- STARFIELD LAYERS --- */
    .stars {
        position: absolute;
        width: 100%;
        height: 100%;
        pointer-events: none;
        top: 0; left: 0;
        overflow: hidden;
        z-index: 1;
    }

    .star {
        position: absolute;
        background: white;
        border-radius: 50%;
        opacity: 0;
        animation: twinkle 6s infinite ease-in-out;
    }

    @keyframes twinkle {
        0% { opacity: 0; }
        50% { opacity: 0.35; }
        100% { opacity: 0; }
    }

    /* --- MONITOR FRAME --- */
    .monitor {
        width: 520px;
        height: 380px;
        background: radial-gradient(circle at center,
            rgba(60, 140, 180, 0.25),
            rgba(20, 60, 90, 0.60),
            rgba(10, 20, 30, 0.85)
        );
        border: 4px solid #7ccfff;
        border-radius: 16px;
        box-shadow: 0 0 25px rgba(140,200,255,0.4),
                    inset 0 0 25px rgba(100,160,220,0.8);
        padding: 25px;
        position: relative;
        z-index: 2;
    }

    .centered {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 220px;
    }

    .centered img {
        max-height: 100%;
        filter: drop-shadow(0 0 10px #6ac9ff);
    }

    /* --- LOADING BAR --- */
    .loading-shell {
        width: 100%;
        height: 22px;
        border: 2px solid #b5e9ff;
        border-radius: 6px;
        padding: 2px;
        margin-top: 15px;
    }

    .loading-bar {
        height: 100%;
        width: 0%;
        border-radius: 4px;
        background: linear-gradient(to right,
            #d4f6ff,
            #8ad9ff,
            #4fbaf0
        );
        box-shadow: 0 0 10px rgba(120,200,255,0.7);
        transition: width 0.35s ease-in-out;
    }

    .loading-text {
        margin-top: 14px;
        text-align: center;
        font-size: 14px;
        opacity: 0.85;
        letter-spacing: 1px;
    }

    /* --- PORTAL --- */
    .portal {
        width: 200px;
        height: 200px;
        border-radius: 50%;
        margin: auto;
        display: none;
        background: radial-gradient(circle,
            rgba(200,230,255,0.85),
            rgba(140,170,255,0.35),
            rgba(40,60,100,0.1)
        );
        box-shadow: 0 0 25px rgba(130,170,255,0.9),
                    0 0 60px rgba(90,140,255,0.6);
        animation: portalPulse 3s infinite ease-in-out;
    }

    @keyframes portalPulse {
        0% { transform: scale(1); opacity: 0.8; }
        50% { transform: scale(1.08); opacity: 1; }
        100% { transform: scale(1); opacity: 0.8; }
    }
</style>
</head>

<body>

<!-- STARFIELD -->
<div class="stars" id="starfield"></div>

<!-- AUDIO -->
<audio id="ambientChimes" src="gentlechimes.mp3" loop></audio>
<audio id="finalSong" src="startheme.mp3"></audio>

<!-- MONITOR -->
<div class="monitor">
    <div class="centered">
        <img id="bootImg" src="star.png" alt="Star Seal">
    </div>

    <div class="loading-shell">
        <div class="loading-bar" id="loader"></div>
    </div>

    <div class="loading-text" id="loadingText">INITIATING STARLIGHT...</div>

    <!-- HIDDEN PORTAL -->
    <div class="portal" id="portal"></div>
</div>

<script>
    /* --- GENTLE CHIMES START IMMEDIATELY (low volume) --- */
    const chimes = document.getElementById("ambientChimes");
    chimes.volume = 0.15;
    chimes.play().catch(()=>{});

    const song = document.getElementById("finalSong");
    song.volume = 0.65;

    /* --- STARFIELD GENERATION --- */
    const starfield = document.getElementById("starfield");

    for (let i = 0; i < 160; i++) {
        let s = document.createElement("div");
        const size = Math.random() * 2 + 1;
        const x = Math.random() * 100;
        const y = Math.random() * 100;
        const delay = Math.random() * 6;

        s.className = "star";
        s.style.width = size + "px";
        s.style.height = size + "px";
        s.style.left = x + "%";
        s.style.top = y + "%";
        s.style.animationDelay = delay + "s";

        starfield.appendChild(s);
    }

    /* --- LOADING SEQUENCE --- */
    const loader = document.getElementById("loader");
    const text = document.getElementById("loadingText");
    const portal = document.getElementById("portal");

    let progress = 0;

    function update() {
        if (progress < 100) {
            progress += 1;
            loader.style.width = progress + "%";

            if (progress < 40)
                text.innerText = "HARMONIZING AETHER...";
            else if (progress < 70)
                text.innerText = "STARHEART LISTENING...";
            else if (progress < 90)
                text.innerText = "OPENING QUIET PATHWAYS...";
            else
                text.innerText = "THE PORTAL IS NEAR...";

            setTimeout(update, 120);
        } else {
            finalizePortal();
        }
    }

    function finalizePortal() {
        text.innerText = "GATE IS OPEN.";
        portal.style.display = "block";

        /* Fade out chimes, fade in final song */
        let fade = setInterval(() => {
            if (chimes.volume > 0.01) {
                chimes.volume -= 0.01;
            } else {
                clearInterval(fade);
                chimes.pause();
            }
        }, 200);

        setTimeout(() => {
            song.play();
        }, 1000);

        /* Start image cycle */
        startImages();
    }

    update();

    /* --- IMAGE CYCLE THROUGH PORTAL --- */
    const images = [
        "dance1.gif",
        "dance2.gif",
        "dance3.gif",
        "dance4.gif",
        "dance5.gif",
        "dance6.gif",
        "yourExtraA.png",
        "yourExtraB.gif"
    ];

    function startImages() {
        let idx = 0;
        const img = document.getElementById("bootImg");

        setInterval(() => {
            img.src = images[idx];
            idx = (idx + 1) % images.length;
        }, 1650); // slower mystical pacing
    }
</script>

</body>
</html>

